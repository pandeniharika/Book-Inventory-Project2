(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{38:function(t,e,i){},40:function(t,e,i){},68:function(t,e,i){"use strict";i.r(e);var n=i(1),a=i(31),c=i.n(a),s=i(11),r=(i(38),i(9)),l=i(10),o=i(13),u=i(12),d=i(2),h=(i(39),i(40),i(3)),b=i(32),j=i.n(b).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),p=new(function(){function t(){Object(r.a)(this,t)}return Object(l.a)(t,[{key:"getAll",value:function(){return j.get("/mybooks")}},{key:"get",value:function(t){return j.get("/mybooks/".concat(t))}},{key:"create",value:function(t){return j.post("/mybooks",t)}},{key:"update",value:function(t,e){return j.put("/mybooks/".concat(t),e)}},{key:"delete",value:function(t){return j.delete("/mybooks/".concat(t))}},{key:"deleteAll",value:function(){return j.delete("/mybooks")}},{key:"findByTitle",value:function(t){return j.get("/mybooks?title=".concat(t))}}]),t}()),v=i(0),O=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(h.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(h.a)(n)),n.saveMybook=n.saveMybook.bind(Object(h.a)(n)),n.newMybook=n.newMybook.bind(Object(h.a)(n)),n.state={id:null,title:"",description:"",published:!1,submitted:!1},n}return Object(l.a)(i,[{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"saveMybook",value:function(){var t=this,e={title:this.state.title,description:this.state.description};p.create(e).then((function(e){t.setState({id:e.data.id,title:e.data.title,description:e.data.description,published:e.data.published,submitted:!0}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"newMybook",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newMybook,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(v.jsx)("button",{onClick:this.saveMybook,className:"btn btn-success",children:"Submit"})]})})}}]),i}(n.Component),m=i(15),g=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeTitle=n.onChangeTitle.bind(Object(h.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(h.a)(n)),n.getMybook=n.getMybook.bind(Object(h.a)(n)),n.updatePublished=n.updatePublished.bind(Object(h.a)(n)),n.updateMybook=n.updateMybook.bind(Object(h.a)(n)),n.deleteMybook=n.deleteMybook.bind(Object(h.a)(n)),n.state={currentMybook:{id:null,title:"",description:"",published:!1},message:""},n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.getMybook(this.props.match.params.id)}},{key:"onChangeTitle",value:function(t){var e=t.target.value;this.setState((function(t){return{currentMybook:Object(m.a)(Object(m.a)({},t.currentMybook),{},{title:e})}}))}},{key:"onChangeDescription",value:function(t){var e=t.target.value;this.setState((function(t){return{currentMybook:Object(m.a)(Object(m.a)({},t.currentMybook),{},{description:e})}}))}},{key:"getMybook",value:function(t){var e=this;p.get(t).then((function(t){e.setState({currentMybook:t.data}),console.log(t.data)})).catch((function(t){console.log(t)}))}},{key:"updatePublished",value:function(t){var e=this,i={id:this.state.currentMybook.id,title:this.state.currentMybook.title,description:this.state.currentMybook.description,published:t};p.update(this.state.currentMybook.id,i).then((function(i){e.setState((function(e){return{currentMybook:Object(m.a)(Object(m.a)({},e.currentMybook),{},{published:t})}})),console.log(i.data)})).catch((function(t){console.log(t)}))}},{key:"updateMybook",value:function(){var t=this;p.update(this.state.currentMybook.id,this.state.currentMybook).then((function(e){console.log(e.data),t.setState({message:"The mybook was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"deleteMybook",value:function(){var t=this;p.delete(this.state.currentMybook.id).then((function(e){console.log(e.data),t.props.history.push("/mybooks")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.currentMybook;return Object(v.jsx)("div",{children:e?Object(v.jsxs)("div",{className:"edit-form",children:[Object(v.jsx)("h4",{children:"Mybook"}),Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"title",children:"Title"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"title",value:e.title,onChange:this.onChangeTitle})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Description"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"description",value:e.description,onChange:this.onChangeDescription})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Status:"})}),e.published?"Published":"Pending"]})]}),e.published?Object(v.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updatePublished(!1)},children:"UnPublish"}):Object(v.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updatePublished(!0)},children:"Publish"}),Object(v.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.deleteMybook,children:"Delete"}),Object(v.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateMybook,children:"Update"}),Object(v.jsx)("p",{children:this.state.message})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Mybook..."})]})})}}]),i}(n.Component),f=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(r.a)(this,i),(n=e.call(this,t)).onChangeSearchTitle=n.onChangeSearchTitle.bind(Object(h.a)(n)),n.retrieveMybooks=n.retrieveMybooks.bind(Object(h.a)(n)),n.refreshList=n.refreshList.bind(Object(h.a)(n)),n.setActiveMybook=n.setActiveMybook.bind(Object(h.a)(n)),n.removeAllMybooks=n.removeAllMybooks.bind(Object(h.a)(n)),n.searchTitle=n.searchTitle.bind(Object(h.a)(n)),n.state={mybooks:[],currentMybook:null,currentIndex:-1,searchTitle:""},n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.retrieveMybooks()}},{key:"onChangeSearchTitle",value:function(t){var e=t.target.value;this.setState({searchTitle:e})}},{key:"retrieveMybooks",value:function(){var t=this;p.getAll().then((function(e){t.setState({mybooks:e.data}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"refreshList",value:function(){this.retrieveMybooks(),this.setState({currentMybook:null,currentIndex:-1})}},{key:"setActiveMybook",value:function(t,e){this.setState({currentMybook:t,currentIndex:e})}},{key:"removeAllMybooks",value:function(){var t=this;p.deleteAll().then((function(e){console.log(e.data),t.refreshList()})).catch((function(t){console.log(t)}))}},{key:"searchTitle",value:function(){var t=this;p.findByTitle(this.state.searchTitle).then((function(e){t.setState({mybooks:e.data}),console.log(e.data)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,i=e.searchTitle,n=e.mybooks,a=e.currentMybook,c=e.currentIndex;return Object(v.jsxs)("div",{className:"list row",children:[Object(v.jsx)("div",{className:"col-md-8",children:Object(v.jsxs)("div",{className:"input-group mb-3",children:[Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:i,onChange:this.onChangeSearchTitle}),Object(v.jsx)("div",{className:"input-group-append",children:Object(v.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle,children:"Search"})})]})}),Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h4",{children:"Mybooks List"}),Object(v.jsx)("ul",{className:"list-group",children:n&&n.map((function(e,i){return Object(v.jsx)("li",{className:"list-group-item "+(i===c?"active":""),onClick:function(){return t.setActiveMybook(e,i)},children:e.title},i)}))}),Object(v.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllMybooks,children:"Remove All"})]}),Object(v.jsx)("div",{className:"col-md-6",children:a?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Mybook"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Title:"})})," ",a.title]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Description:"})})," ",a.description]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Status:"})})," ",a.published?"Published":"Pending"]}),Object(v.jsx)(s.b,{to:"/mybooks/"+a.id,className:"badge badge-warning",children:"Edit"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a Mybook..."})]})})]})}}]),i}(n.Component),x=function(t){Object(o.a)(i,t);var e=Object(u.a)(i);function i(){return Object(r.a)(this,i),e.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(v.jsxs)(s.a,{children:[Object(v.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(v.jsx)(s.b,{to:"/mybooks",className:"navbar-brand",children:"bezKoder"}),Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/mybooks",className:"nav-link",children:"Mybooks"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(s.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{exact:!0,path:["/","/mybooks"],component:f}),Object(v.jsx)(d.a,{exact:!0,path:"/add",component:O}),Object(v.jsx)(d.a,{path:"/mybooks/:id",component:g})]})})]})}}]),i}(n.Component),T=x,y=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,69)).then((function(e){var i=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;i(t),n(t),a(t),c(t),s(t)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(v.jsx)(s.a,{children:Object(v.jsx)(T,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),y()}},[[68,1,2]]]);
//# sourceMappingURL=main.ce77ff67.chunk.js.map